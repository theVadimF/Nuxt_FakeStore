import{a as B,j as F,o,h as l,k as e,F as L,r as M,l as C,m as _,w as D,p as v,t as k,q as E,s as R,v as A,x as y,y as m,u as a,z as I,A as S,c as N,B as U,C as T,D as z,E as G}from"./entry.36aa98b4.js";const O=B({setup(){return{}},props:{products:{type:Object,required:!0},cart:{type:Array,required:!0},category_filter:{type:Array,required:!0},min_price:{type:String,required:!0},max_price:{type:String,required:!0},min_rating:{type:String,required:!0},grid_view:{type:Boolean,required:!0}},methods:{addToCart(t,s){this.cart.push({productId:t,quantity:"1",cachedPrice:s})},isInCart(t){return this.cart.find(c=>c.productId==t)===void 0},numericFilters(t){let s=0,c=1/0,h=0;return this.min_price!=""&&(s=+this.min_price),this.max_price!=""&&(c=+this.max_price),this.min_rating!=""&&(h=+this.min_rating),t.filter(u=>u.price>=s&&u.price<=c&&u.rating.rate>=h)}},computed:{filteredProducts(){return this.category_filter.length==0?this.numericFilters(this.products):this.numericFilters(this.products.filter(t=>this.category_filter.includes(t.category)))}},emits:["openCart"]});const X={class:""},H={class:""},J=["src"],K={class:"flex flex-col gap-1 h-full"},Q={class:"flex gap-[1px] mt-auto"},W={class:"flex gap-2 items-center mt-1"},Y=["onClick"],Z={class:"text-xl font-light"};function ee(t,s,c,h,u,q){const b=E,d=R;return o(),l("div",X,[e("div",{class:C(["gap-3 m-3",t.grid_view?"card-grid":"card-list"])},[(o(!0),l(L,null,M(t.filteredProducts,n=>(o(),l("div",H,[(o(),l("div",{class:C(["p-3 bg-white rounded-xl shadow-xl",t.grid_view?"item-grid":"item-list"]),key:n.id},[e("img",{class:"flex-shrink-0 object-contain",src:n.image,alt:"Product thumbnail"},null,8,J),e("div",K,[_(b,{class:"font-medium text-lg",to:`/product/${n.id}`},{default:D(()=>[v(k(n.title),1)]),_:2},1032,["to"]),e("p",Q,[v(" Rating: "+k(n.rating.rate)+"/5 ",1),_(d,{class:"self-center text-2xl text-yellow-500",name:"ic:round-star"}),v(" ("+k(n.rating.count)+") ",1)]),e("div",W,[t.isInCart(n.id)?(o(),l("button",{key:0,class:"bg-green-800 text-white px-3 py-1 flex gap-1 rounded-xl shadow-md",onClick:x=>t.addToCart(n.id,n.price)},[_(d,{class:"self-center text-xl",name:"la:cart-plus"}),v("Add to cart ")],8,Y)):(o(),l("button",{key:1,class:"bg-white text-green-800 outline outline-green-800 px-3 py-1 flex gap-1 rounded-xl shadow-md",onClick:s[0]||(s[0]=x=>t.$emit("openCart",!0))},[_(d,{class:"self-center text-xl",name:"la:cart-arrow-down"}),v("In cart ")])),e("p",Z,"$"+k(n.price.toFixed(2)),1)])])],2))]))),256))],2)])}const te=F(O,[["render",ee],["__scopeId","data-v-7296f213"]]),g=t=>(z("data-v-d9316dc2"),t=t(),G(),t),se={class:"flex max-w-6xl ml-auto mr-auto"},ie={class:"filter-display justify-between items-center text-3xl p-0 mb-2"},re=g(()=>e("h1",{class:"oswald"},"Filters",-1)),ne={class:""},ae=g(()=>e("h2",{class:"text-xl font-medium"},"Categories",-1)),oe={class:"flex items-center gap-1"},le=["name","id","value"],ce=["for"],de={key:1,class:"p-3 mt-2 rounded-xl shadow-xl flex items-center bg-gray-300 text-red-500 box-border"},_e={class:""},pe=g(()=>e("h2",{class:"a text-xl font-medium"},"Price",-1)),me={class:"flex flex-col gap-1"},ue=g(()=>e("label",{class:"text-sm",for:"min-price"},"Minimum Price:",-1)),xe=g(()=>e("label",{class:"text-sm",for:"max-price"},"Maximum Price:",-1)),fe={class:""},ge=g(()=>e("h2",{class:"a text-xl font-medium"},"Rating",-1)),he={class:"gap-1"},ye=g(()=>e("label",{class:"text-sm",for:"min-price"},"Minimum Rating:",-1)),ve={class:"w-full"},be={class:"ml-4 flex gap-2"},we={class:"flex items-center gap-0 bg-gray-300 w-fit px-3 py-2 rounded-xl text-xl text-gray-500 shadow-md"},$e={key:1,class:"p-3 m-4 rounded-xl text-lg shadow-xl flex items-center bg-gray-300 text-red-500"},ke=B({__name:"ItemBrowser",async setup(t){let s,c;const{data:h,error:u}=([s,c]=A(()=>U("https://fakestoreapi.com/products","$AC85Li99pX")),s=await s,c(),s),{data:q,error:b}=([s,c]=A(()=>U("https://fakestoreapi.com/products/categories","$LLDrtGfqiR")),s=await s,c(),s);let d=y([]),n=y(""),x=y(""),w=y(""),p=y(!1),f=y(!1);return(P,r)=>{const $=R,j=te;return o(),l("div",se,[e("div",{class:C(["flex-col gap-2 filter-wrap",a(f)?"flex":"hidden"])},[e("div",ie,[re,e("button",null,[_($,{alt:"Close filters",onClick:r[0]||(r[0]=i=>m(f)?f.value=!1:f=!1),name:"material-symbols:close"})])]),e("div",ne,[ae,a(b)?(o(),l("p",de,"Unable to load categories. Check your internet connection")):(o(!0),l(L,{key:0},M(a(q),i=>(o(),l("div",oe,[I(e("input",{type:"checkbox",name:i,"onUpdate:modelValue":r[1]||(r[1]=V=>m(d)?d.value=V:d=V),id:i,value:i},null,8,le),[[T,a(d)]]),e("label",{class:"capitalize",for:i},k(i),9,ce)]))),256))]),e("div",_e,[pe,e("div",me,[ue,I(e("input",{class:"a rounded-sm bg-gray-300 p-1",min:"0",type:"number","onUpdate:modelValue":r[2]||(r[2]=i=>m(n)?n.value=i:n=i),id:"min-price",placeholder:"0"},null,512),[[S,a(n)]]),xe,I(e("input",{class:"a rounded-sm bg-gray-300 p-1",min:"0",type:"number","onUpdate:modelValue":r[3]||(r[3]=i=>m(x)?x.value=i:x=i),id:"max-price",placeholder:"max"},null,512),[[S,a(x)]])])]),e("div",fe,[ge,e("div",he,[ye,I(e("input",{class:"a rounded-sm bg-gray-300 p-1 w-full",min:"0",max:"5",type:"number","onUpdate:modelValue":r[4]||(r[4]=i=>m(w)?w.value=i:w=i),placeholder:"0"},null,512),[[S,a(w)]])])])],2),e("div",ve,[e("div",be,[e("button",{class:"filter-display items-center bg-gray-300 w-fit px-3 py-2 rounded-xl text-md shadow-md",onClick:r[5]||(r[5]=i=>m(f)?f.value=!0:f=!0)},[_($,{class:"text-xl",name:"la:filter"}),v(" Filters")]),e("div",we,[e("button",{class:C(["flex items-center",{"text-black":!a(p)}]),onClick:r[6]||(r[6]=i=>m(p)?p.value=!1:p=!1)},[_($,{name:"ph:list-bold"})],2),_($,{class:"text-black",name:"vaadin:line-v"}),e("button",{class:C(["flex items-center",{"text-black":a(p)}]),onClick:r[7]||(r[7]=i=>m(p)?p.value=!0:p=!0)},[_($,{name:"fluent:grid-24-filled"})],2)])]),a(u)?(o(),l("p",$e,"Unable to load products. Check your internet connection")):(o(),N(j,{key:0,class:"w-full",products:a(h),cart:P.$attrs.cart,onOpenCart:r[8]||(r[8]=i=>P.$emit("openCart",i)),category_filter:a(d),min_price:a(n).toString(),max_price:a(x).toString(),min_rating:a(w).toString(),grid_view:a(p)},null,8,["products","cart","category_filter","min_price","max_price","min_rating","grid_view"]))])])}}});const Ce=F(ke,[["__scopeId","data-v-d9316dc2"]]),Ie=B({setup(){},emits:["openCart"]});const qe={class:""};function Se(t,s,c,h,u,q){const b=Ce;return o(),l("div",qe,[_(b,{cart:t.$attrs.cart,onOpenCart:s[0]||(s[0]=d=>t.$emit("openCart",d))},null,8,["cart"])])}const Fe=F(Ie,[["render",Se]]);export{Fe as default};
